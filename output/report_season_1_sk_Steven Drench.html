<!DOCTYPE html>
<html>
<head>
  <title>Player Comparison</title>
  <style>
    .comparison-table {
      border-collapse: collapse;
      width: 100%;
      table-layout: fixed;
    }
    .comparison-table th, .comparison-table td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: left;
      word-break: break-word;
    }
    .comparison-table th {
      background-color: #f2f2f2;
      cursor: pointer;
      transition: background 0.2s;
      position: sticky;
      top: 0;
      z-index: 2;
    }
    .comparison-table th.sorted-asc {
      background-color: #d0eaff;
    }
    .comparison-table th.sorted-desc {
      background-color: #ffd0d0;
    }
    .frozen-row td {
      background: #e8e8e8;
      font-weight: bold;
      position: sticky;
      top: 38px; /* Height of the header row */
      z-index: 1;
    }
    .remove-btn {
      background: #ff6666;
      color: white;
      border: none;
      padding: 4px 8px;
      cursor: pointer;
      border-radius: 3px;
    }
    .remove-btn:hover {
      background: #cc0000;
    }
  </style>
</head>
<body>
  <h2>Player Comparison</h2>
  <table class="comparison-table" id="comparisonTable">
    <thead>
      <tr>
        
          <th onclick="sortTable(0, this)">Uid</th>
        
          <th onclick="sortTable(1, this)">Name</th>
        
          <th onclick="sortTable(2, this)">Club</th>
        
          <th onclick="sortTable(3, this)">Nat</th>
        
          <th onclick="sortTable(4, this)">Height</th>
        
          <th onclick="sortTable(5, this)">Age</th>
        
          <th onclick="sortTable(6, this)">Wage</th>
        
          <th onclick="sortTable(7, this)">Best_pos</th>
        
          <th onclick="sortTable(8, this)">Minutes</th>
        
          <th onclick="sortTable(9, this)">Sv_pct</th>
        
          <th onclick="sortTable(10, this)">Svh</th>
        
          <th onclick="sortTable(11, this)">Svp</th>
        
          <th onclick="sortTable(12, this)">Svt</th>
        
          <th onclick="sortTable(13, this)">Goals_against</th>
        
          <th onclick="sortTable(14, this)">Clean_sheets</th>
        
          <th onclick="sortTable(15, this)">Pen_saves</th>
        
          <th onclick="sortTable(16, this)">Pen_missed</th>
        
          <th onclick="sortTable(17, this)">Poss_lost_90</th>
        
          <th onclick="sortTable(18, this)">Pr_passes_90</th>
        
          <th onclick="sortTable(19, this)">Tck_r</th>
        
        <th>Remove</th>
      </tr>
    </thead>
    <tbody>
      <tr class="frozen-row">
        
          <td>5005191</td>
        
          <td>Steven Drench</td>
        
          <td>Chorley</td>
        
          <td>ENG</td>
        
          <td>6'1"</td>
        
          <td>38</td>
        
          <td>300</td>
        
          <td>GK</td>
        
          <td>90.0</td>
        
          <td>50.0</td>
        
          <td>2.0</td>
        
          <td>0.0</td>
        
          <td>2.0</td>
        
          <td></td>
        
          <td>0.0</td>
        
          <td></td>
        
          <td></td>
        
          <td>16.0</td>
        
          <td>0.0</td>
        
          <td>0.0</td>
        
        <td></td>
      </tr>
      
    </tbody>
  </table>

  <script>
  // Track sort directions for each column
  var sortDirections = {};

  function sortTable(col, thElem) {
    var table = document.getElementById("comparisonTable");
    var tbody = table.tBodies[0];
    var rows = Array.from(tbody.rows).slice(1); // Exclude the first (frozen) row

    // Toggle sort direction: default to ascending
    sortDirections[col] = !sortDirections[col];
    var ascending = sortDirections[col];

    // Remove sorted classes from all headers
    var ths = table.querySelectorAll("th");
    ths.forEach(function(th) {
      th.classList.remove("sorted-asc", "sorted-desc");
    });
    // Add sorted class to current header
    thElem.classList.add(ascending ? "sorted-asc" : "sorted-desc");

    var sorted = rows.sort(function(a, b) {
      var x = a.cells[col].innerText;
      var y = b.cells[col].innerText;
      if (!isNaN(x) && !isNaN(y)) {
        x = Number(x);
        y = Number(y);
      }
      if (ascending) {
        return x > y ? 1 : x < y ? -1 : 0;
      } else {
        return x < y ? 1 : x > y ? -1 : 0;
      }
    });
    // Re-append the sorted rows after the frozen row
    for (var i = 0; i < sorted.length; i++) {
      tbody.appendChild(sorted[i]);
    }
  }

  function removeRow(btn) {
    var row = btn.closest('tr');
    row.parentNode.removeChild(row);
  }
  </script>
</body>
</html>
